#!/bin/bash -e

source $OPENSHIFT_CARTRIDGE_SDK_BASH

if [ -z "${BROOKLYN_URL_PORT}" ]
then
    client_error "A Brooklyn server does not exist in this domain!"
    client_error "You must create a Brooklyn server before installing this cartridge."
    exit 151
fi

${OPENSHIFT_REPO_DIR}/bin/control create_application "${BROOKLYN_URL_PORT}" "${BROOKLYN_USERNAME}" "${BROOKLYN_PASSWORD}" "${APPLICATION_TYPE}" "${LOCATION_ID}" 2>&1
